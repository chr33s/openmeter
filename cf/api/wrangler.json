{
	"$schema": "../node_modules/wrangler/config-schema.json",
	"name": "cloudmeter-api",
	"main": "./index.ts",
	"compatibility_date": "2025-06-17",
	"compatibility_flags": ["nodejs_compat"],
	"dev": {
		"port": 8080
	},
	"unsafe": {
		"bindings": [
			{
				"name": "RATE_LIMITER",
				"type": "ratelimit",
				"namespace_id": "1001",
				"simple": { "limit": 100, "period": 60 }
			}
		]
	},
	"d1_databases": [
		{
			"binding": "D1_DB",
			"database_name": "cloudmeter-db",
			"database_id": "<uid>",
			"migrations_dir": "./migrations"
		}
	],
	"kv_namespaces": [
		{
			"binding": "KV_CACHE",
			"id": "<uid>",
			"preview_id": "<uid>"
		}
	],
	"vars": {
		"ENVIRONMENT": "development",
		"CORS_ORIGINS": "*",
		"API_KEY_PREFIX": "om_",
		"JWT_ISSUER": "cloudmeter",
		"JWT_AUDIENCE": "cloudmeter-api",
		"RATE_LIMIT_REQUESTS_PER_MINUTE": "100",
		"RATE_LIMIT_BURST": "20",
		"CACHE_TTL_SECONDS": "300",
		"IDEMPOTENCY_TTL_HOURS": "24"
	}
}
